<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HIV Tests-Abundant Science</title>

    <!-- Load Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />

    <!-- Load your stylesheet -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Load Supabase client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.5/dist/umd/supabase.min.js"></script>
</head>

<body>

    <!-- Navigation Bar -->
    <nav>
        <div class="logo-container">
            <a href="index.html"
                style="display: flex; align-items: center; gap: 0.5rem; text-decoration: none; color: inherit;">
                <img src="logo-nobackground.jpg" alt="Abundant Science logo">
                <strong>Abundant Science</strong>
            </a>
        </div>
        <div class="nav-links">
            <a href="about.html">Our Mission</a>
        </div>
    </nav>

    <!-- Hero / Form Section -->
    <div class="container">
        <img src="hiv-image.jpg" alt="Free HIV Test"
            style="width: 50%; max-width: 600px; margin: 1rem 0; border-radius: 8px;" />

        <p style="color: #666">

        <p style="color: #666; text-align: center;">
            Provide your email to get access to rapid tests and resources for HIV testing, PrEP, STI screening, and
            other key health indicators.
        </p>


        <form id=" waitlist-form">
            <input type="email" id="email" placeholder="Email" required />
            <button type="submit">Get Your Test</button>
        </form>


        <div id="message"></div>
    </div>


    <section class="biomarker-section">
        <p style="text-align: left;">
            The INSTI HIV Self Test was approved for use in Canada on Nov. 3, 2020, in part thanks to research done by
            the same team behind I‚Äôm Ready to Know. The overall accuracy is rated at over 99%, meaning that there is
            over a 99% probability that either‚ÄØa positive or a negative result will be correct. If you become part of
            the I‚Äôm Ready program you can get up to three free INSTI HIV Self Test Kits.
            <br>
            <br>

        </p>

        <!-- <h4 style="text-align: left;">How to Get a Free Test from I'm Ready</h4> -->

        <!-- <p style="text-align: left;">
            1. Sign up Donwload the I'm Ready Donwload App: <a href="https://apps.apple.com/ca/app/im-ready-test/id1547497367"
                target="_blank" rel="noopener noreferrer"> Here</a>.
            Once downloaded, complete the eligibility questions, create a profile and answer a short pre-test survey
            <br>
            <br>
            2. Choose to have up to three self-test kits delivered to your home or another address, or opt to pick up a
            single kit at any one of our pickup locations.
            <br>
            <br>
            3. Once the self-test kit arrives, open the I‚Äôm Ready, Test app and follow the test kit instructions.
            <br>
            <br>
            4. When you‚Äôre done the test, record your result in the app anonymously and continue to
            access more information on treating or preventing HIV.
        </p> -->
        <br>

        <section class=" resources-section"
            style="padding: 2rem; background-color: #f9f9f9; border-top: 1px solid #ddd;">
            <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">Additional Resources</h3>
            <ul style="list-style: none; text-align: left; padding: 0; line-height: 1.6;">
                <li>
                    <strong>
                        <a href="https://www.ourhealthbox.ca/" target="_blank">Our Health Box</a> </strong> ‚Äì National
                    Community initaitive for HIV and harm reduction
                </li>

                <li>
                    <strong>
                        <a href="https://www.readytoknow.ca" target="_blank">Ready to Know</a> </strong> ‚Äì Canadian
                    program that offers low-barrier options to HIV self-testing and connections to care

                </li>
                <li>
                    <strong> <a href="https://hivtestingontario.ca/self-testing/" target="_blank">HIV Testing
                            Ontario</a> </strong> ‚Äì More Self Testing Information
                </li>
                <li>
                    <strong>
                        <a href="https://www.catie.ca/essentials/hiv-basics" target="_blank">CATIE</a>
                    </strong> ‚Äì HIV Basics in Canada
                </li>
            </ul>
        </section>

        <footer class="site-footer">
            <p>&copy; 2025 Abundant Science. All rights reserved.</p>
            <p><a href="mailto:contact@abundant.science">Contact Us</a></p>
        </footer>

</body>



<!-- Supabase Script -->
<script>
    window.addEventListener("DOMContentLoaded", function () {
        const SUPABASE_URL = "https://jicytgdlbevccejowlnf.supabase.co";
        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImppY3l0Z2RsYmV2Y2Nlam93bG5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUzNDQzNTYsImV4cCI6MjA2MDkyMDM1Nn0.DRfZefUPOLjhdxYudhvQKGePr6ex-Xf3JBkedbF7_OY";

        const client = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        document.getElementById("waitlist-form").addEventListener("submit", async function (e) {
            e.preventDefault();

            const email = document.getElementById("email").value.trim();
            const msg = document.getElementById("message");
            msg.textContent = "";
            msg.className = "";

            if (!email || !email.includes("@")) {
                msg.textContent = "Please enter a valid email.";
                msg.className = "error";
                return;
            }

            try {
                console.log("üì® Submitting:", email);
                const { data, error } = await client
                    .from("waitlist")
                    .insert([{ email, source_page: "HIV Test" }]);

                console.log("‚úÖ Response:", data, error);

                if (error) {
                    msg.textContent = "‚ùå Error: " + error.message;
                    msg.className = "error";
                } else {
                    msg.textContent = "‚úÖ You're on the list!";
                    msg.className = "success";
                    document.getElementById("waitlist-form").reset();
                }
            } catch (err) {
                console.error("‚ùó Unexpected error:", err);
                msg.textContent = "‚ùå Something went wrong.";
                msg.className = "error";
            }
        });
    });
</script>

</html>
